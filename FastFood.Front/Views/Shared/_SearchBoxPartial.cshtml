@model FastFood.Core.Models.AddressModel
<script src="@Url.Content("~/Scripts/jquery-1.6.2.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-1.4.4.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    var searchBox = null;
    var validationSummary = null;

    $(document).ready(function () {
        validationSummary = $("#validationSummary");
        searchBox = $("#txtSearchBox").focusout(function () {
            if (searchBox.val().length > 0) {
                validate(searchBox);
            }
        });
    });

    function validate(searchBox) {
        match = searchBox.val().match("^\\s*([^,]+)\\s+\\d{1,5}(,\\s*([^,]+)\\s*){2,3}$");        
        if (!match) {
            validationSummary.text("Please enter your address (example: Maggiolo 520, Montevideo, Uruguay)").show(200);
        } else {            
            $("Number").val();
            $("ApartmentNumber").val();
            $("Street").val();
            $("City").val();
            $("State").val();
            $("Country").val();
            $("PostalCode").val();
        }
    }
</script>
<div id="big-search-box">
    <div class="center">
        <label for="txtSearchBox">¿Dónde estás?</label>
    </div>
    <div id="search-box">
        <div class="left-container">
            <div id="validationSummary" class="msg warning-msg" style="display: none;"></div>
            <input id="txtSearchBox" name="txtSearchBox"
                type="search" maxlength="250" placeholder="Street Address, City, [Province,] Country"
                pattern="^\\s*\\w+\\s+\\d{1,5}(,\\s*\\w+){2,3}\\s*$" />
            @using(@Html.BeginForm("Search", "Restaurant", FormMethod.Post, new { id="search-form", enctype = "multipart/form-data" })){
                @Html.DisplayForModel("HiddenAddress")
                <input class="boton-gris" type="submit" value="Search" />
            }
        </div>
    </div>
</div>

